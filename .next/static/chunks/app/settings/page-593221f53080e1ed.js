(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{285:(e,t,s)=>{"use strict";s.d(t,{$:()=>r});var a=s(5155);let r=s(2115).forwardRef((e,t)=>{let{variant:s="default",size:r="md",className:n,children:i,asChild:l,...c}=e,d="secondary"===s?"#e9ecef":"destructive"===s?"#dc3545":"ghost"===s||"link"===s||"outline"===s?"transparent":"#0d6efd";return(0,a.jsx)("button",{ref:t,className:n,style:{padding:"sm"===r?"6px 10px":"lg"===r?"10px 16px":"8px 12px",background:d,color:"ghost"===s||"link"===s||"outline"===s?"#0d6efd":"#fff",border:"outline"===s?"1px solid #0d6efd":"1px solid transparent",borderRadius:6,cursor:"pointer",textDecoration:"link"===s?"underline":"none"},...c,children:i})});r.displayName="Button"},2608:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(5155),r=s(4601),n=s(6695),i=s(285),l=s(6874),c=s.n(l);function d(){let{editorSettings:e,updateEditorSettings:t}=(0,r.C)(),s=e=>{t({theme:e})};return(0,a.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)(c(),{href:"/",className:"text-muted-foreground hover:text-foreground mb-2 inline-block",children:"← Back to Dashboard"}),(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Settings"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Configure your writing environment and preferences"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)(n.Zp,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Editor Settings"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Font Size"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("input",{type:"range",min:"12",max:"24",step:"1",value:e.fontSize,onChange:e=>{t({fontSize:parseInt(e.target.value)})},className:"flex-1"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground min-w-[3rem]",children:[e.fontSize,"px"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Theme"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(i.$,{variant:"light"===e.theme?"default":"outline",onClick:()=>s("light"),children:"Light"}),(0,a.jsx)(i.$,{variant:"dark"===e.theme?"default":"outline",onClick:()=>s("dark"),children:"Dark"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Focus Mode"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Dim surrounding paragraphs while writing"})]}),(0,a.jsx)(i.$,{variant:e.focusMode?"default":"outline",onClick:()=>{t({focusMode:!e.focusMode})},children:e.focusMode?"On":"Off"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Typewriter Mode"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Keep current line centered on screen"})]}),(0,a.jsx)(i.$,{variant:e.typewriterMode?"default":"outline",onClick:()=>{t({typewriterMode:!e.typewriterMode})},children:e.typewriterMode?"On":"Off"})]})]})]}),(0,a.jsxs)(n.Zp,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Application Settings"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Auto-save"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Automatically save changes while writing"})]}),(0,a.jsx)(i.$,{variant:"default",children:"On"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Backup Location"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:"~/Documents/NarrativeSurgeon/Backups",readOnly:!0,className:"flex-1 p-2 border border-input rounded-md bg-muted"}),(0,a.jsx)(i.$,{variant:"outline",children:"Browse"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"AI Provider"}),(0,a.jsxs)("select",{className:"w-full p-2 border border-input rounded-md bg-background",children:[(0,a.jsx)("option",{children:"OpenAI GPT-4"}),(0,a.jsx)("option",{children:"Claude"}),(0,a.jsx)("option",{children:"Local Model"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"API Key"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"password",placeholder:"Enter your API key",className:"flex-1 p-2 border border-input rounded-md bg-background"}),(0,a.jsx)(i.$,{variant:"outline",children:"Test"})]})]})]})]}),(0,a.jsxs)(n.Zp,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Data & Privacy"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Analytics"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Help improve the app by sharing anonymous usage data"})]}),(0,a.jsx)(i.$,{variant:"outline",children:"Off"})]}),(0,a.jsx)("div",{children:(0,a.jsx)(i.$,{variant:"outline",className:"w-full",children:"Export All Data"})}),(0,a.jsx)("div",{children:(0,a.jsx)(i.$,{variant:"destructive",className:"w-full",children:"Reset All Settings"})})]})]}),(0,a.jsxs)(n.Zp,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"About"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Version:"}),(0,a.jsx)("span",{className:"ml-2",children:"1.0.0"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Build:"}),(0,a.jsx)("span",{className:"ml-2",children:"Desktop Edition"})]}),(0,a.jsx)("div",{children:(0,a.jsx)(i.$,{variant:"outline",className:"w-full",children:"Check for Updates"})}),(0,a.jsx)("div",{children:(0,a.jsx)(i.$,{variant:"outline",className:"w-full",children:"View Changelog"})})]})]})]})]})}},4137:(e,t,s)=>{Promise.resolve().then(s.bind(s,2608))},4601:(e,t,s)=>{"use strict";s.d(t,{C:()=>c});var a=s(7111),r=s(6786),n=s(4273);class i{static async createManuscript(e,t){return await (0,n.lA)("create_manuscript_safe",{title:e,text:t})}static async loadManuscript(){return await (0,n.lA)("get_manuscript")||null}static async deleteManuscript(){return await (0,n.lA)("delete_manuscript_safe")}static async getScenes(){let e=await (0,n.lA)("get_all_scenes");return Array.isArray(e)?e:[]}static async updateScene(e,t){return await (0,n.lA)("update_scene_safe",{sceneId:e,updates:t})}static async importFile(e){return await (0,n.lA)("import_file",{path:e})}static async batchImportFiles(){return await (0,n.lA)("batch_import_files")}static async exportManuscript(e,t,s){return await (0,n.lA)("export_manuscript",{id:e,format:t,path:s})}static async getRecentErrors(e){return await (0,n.lA)("get_recent_errors",{limit:e})}static async safeInvoke(e,t){try{return await (0,n.lA)(e,t)}catch(t){throw console.error("Tauri command ".concat(e," failed:"),t),t}}}function l(){return new Promise(e=>{let t=localStorage.getItem("manuscript-content");if(t)try{let s=JSON.parse(t);if(s.metadata&&s.chapters&&Array.isArray(s.chapters))return void e(s)}catch(e){console.warn("Failed to parse stored manuscript, using default:",e)}e({metadata:{title:"New Manuscript",author:"Author Name",wordCount:0,genre:"techno-thriller",version:"1.0.0",lastModified:new Date,created:new Date,tags:[]},chapters:[],characters:[],locations:[],techConcepts:[],timeline:[]})})}let c=(0,a.vt)()((0,r.lt)((0,r.eh)((e,t)=>({currentView:"dashboard",sidebarCollapsed:!1,loading:!1,error:null,currentManuscript:null,scenes:[],activeSceneId:null,activeChapterId:null,editorContent:"",unsavedChanges:!1,editorSettings:{fontSize:16,theme:"light",focusMode:!1,typewriterMode:!1,showWordCount:!0,showChapterNumbers:!0,lineHeight:1.6,fontFamily:"Inter"},setCurrentView:t=>e({currentView:t}),setSidebarCollapsed:t=>e({sidebarCollapsed:t}),setLoading:t=>e({loading:t}),setError:t=>e({error:t}),loadScenes:async()=>{e({loading:!0,error:null});try{let s=await i.getScenes();e({scenes:s,loading:!1}),s.length>0&&!t().activeSceneId&&e({activeSceneId:s[0].id,editorContent:s[0].raw_text||""})}catch(t){e({error:t instanceof Error?t.message:"Failed to load scenes",loading:!1})}},updateScene:async(t,s)=>{try{await i.updateScene(t,s),e(e=>({scenes:e.scenes.map(e=>e.id===t?{...e,...s}:e),unsavedChanges:!1}))}catch(t){e({error:t instanceof Error?t.message:"Failed to update scene"})}},setActiveScene:s=>{let a=t().scenes.find(e=>e.id===s);e({activeSceneId:s,editorContent:(null==a?void 0:a.raw_text)||"",unsavedChanges:!1})},setEditorContent:s=>{var a;e({editorContent:s,unsavedChanges:s!==((null==(a=t().scenes.find(e=>e.id===t().activeSceneId))?void 0:a.raw_text)||"")})},saveCurrentScene:async()=>{let{activeSceneId:e,editorContent:s}=t();e&&await t().updateScene(e,{raw_text:s})},updateEditorSettings:t=>{e(e=>({editorSettings:{...e.editorSettings,...t}}))},loadManuscript:async()=>{e({loading:!0,error:null});try{let t=await l();e({currentManuscript:t,isManuscriptMode:!0,loading:!1})}catch(t){e({error:t instanceof Error?t.message:"Failed to load manuscript",loading:!1})}},initializeManuscriptMode:async()=>{e({loading:!0,error:null});try{let t=await l();e({currentManuscript:t,isManuscriptMode:!0,loading:!1})}catch(t){e({error:t instanceof Error?t.message:"Failed to initialize manuscript mode",loading:!1})}},switchToLegacyMode:()=>{e({currentManuscript:null,isManuscriptMode:!1,activeChapterId:null})},setActiveChapter:s=>{let{currentManuscript:a}=t();if(a&&null!==s){let t=a.content.chapters.find(e=>e.currentPosition===s);e({activeChapterId:s,editorContent:(null==t?void 0:t.content)||"",unsavedChanges:!1})}else e({activeChapterId:null,editorContent:"",unsavedChanges:!1})},updateChapterContent:(s,a)=>{let{currentManuscript:r}=t();if(r){let t={...r},n=t.content.chapters.findIndex(e=>e.currentPosition===s);-1!==n&&(t.content.chapters[n]={...t.content.chapters[n],content:a},e({currentManuscript:t,editorContent:a,unsavedChanges:!0}))}},saveCurrentChapter:async()=>{let{activeChapterId:s,editorContent:a,currentManuscript:r}=t();if(s&&r)try{t().updateChapterContent(s,a),e({unsavedChanges:!1})}catch(t){e({error:t instanceof Error?t.message:"Failed to save chapter"})}}})),{name:"narrative-surgeon-store"}));{c.subscribe(e=>e.editorSettings,e=>{localStorage.setItem("narrative-surgeon-editor-settings",JSON.stringify(e))});let e=localStorage.getItem("narrative-surgeon-editor-settings");if(e)try{let t=JSON.parse(e);c.getState().updateEditorSettings(t)}catch(e){console.warn("Failed to load editor settings:",e)}}},6695:(e,t,s)=>{"use strict";s.d(t,{Zp:()=>i});var a=s(5155),r=s(2115),n=s(9434);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});i.displayName="Card",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...r})}).displayName="CardHeader",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})}).displayName="CardTitle",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})}).displayName="CardDescription",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...r})}).displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},9434:(e,t,s)=>{"use strict";function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}s.d(t,{cn:()=>a})}},e=>{e.O(0,[96,358],()=>e(e.s=4137)),_N_E=e.O()}]);